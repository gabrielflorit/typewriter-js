(function(f){function k(h){return"function"==typeof h}function g(h){"undefined"!=typeof process&&process.nextTick?process.nextTick(h):setTimeout(h,0)}f[0][f[1]]=function l(){function b(a,b){null==d&&null!=a&&(d=a,m=b,c.length&&g(function(){for(var a=0;a<c.length;a++)c[a]()}));return d}var d,m=[],c=[];b.then=function(a,b){function f(){try{var c=d?a:b;if(k(c)){var g=function(a){try{var b,c=0;if(a&&("object"==typeof a||k(a))&&k(b=a.then)){if(a===e)throw new TypeError;b.call(a,function(a){c++||g(a)},
function(a){c++||e(!1,[a])})}else e(!0,[a])}catch(d){c++||e(!1,[d])}};g(c.apply(void 0,m))}else e(d,m)}catch(l){e(!1,[l])}}var e=l();null!=d?g(f):c.push(f);return e};b.always=function(a){return b.then(a,a)};b.error=function(a){return b.then(0,a)};return b}})("undefined"===typeof module?[window,"pinkySwear"]:[module,"exports"]);